<h1>Cascata, Especificidade e Herança</h1>

<img src="assets/render.png" alt="render" />

<section>
  <h2>Análise</h2>
  <p>Resolver conflitos de regras no processo de cascata.</p>

  <h3>A Cascata</h3>
  <p>A cascata resolve conflitos entre diferentes regras.</p>
  <p>Ordem de prioridade:</p>
  <ul>
    <li>
      <strong>Importância</strong> → <code>!important</code> do usuário
      <strong>></strong> <code>!important</code> do autor
      <strong>></strong> regras do autor <strong>></strong> regras do usuário
      <strong>></strong> browser.
    </li>
    <li>
      <strong>Especificidade</strong> → inline <strong>></strong> ID
      <strong>></strong> classe / pseudo-classe / atributo
      <strong>></strong> elemento / pseudo-elemento.
    </li>
    <li>
      <strong>Ordem</strong> → em caso de empate, vale a última declaração.
    </li>
  </ul>

  <h3>Herança</h3>
  <p>Valores propagados do pai para os filhos.</p>
  <ul>
    <li>
      Propriedades de texto (<code>color</code>, <code>font-family</code>,
      <code>line-height</code>) são herdadas.
    </li>
    <li>
      Propriedades de layout (como <code>margin</code> ou <code>padding</code>)
      não são herdadas.
    </li>
  </ul>
</section>

<section>
  <h2>Processamento</h2>
  <p>Valores finais de CSS</p>

  <table
    border="1"
    cellpadding="8"
    cellspacing="0"
    style="border-collapse: collapse; width: 100%; text-align: left"
  >
    <thead style="background: #f0f0f0">
      <tr>
        <th>Etapa</th>
        <th>Valor</th>
        <th>Descrição</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Valor declarado</strong></td>
        <td><code>font-size: 1.5em;</code></td>
        <td>O valor escrito pelo autor no CSS.</td>
      </tr>
      <tr>
        <td><strong>Valor após cascata</strong></td>
        <td><code>font-size: 1.5em;</code></td>
        <td>
          Resultado depois de aplicar importância, especificidade e ordem.
        </td>
      </tr>
      <tr>
        <td><strong>Valor especificado</strong></td>
        <td><code>font-size: 1.5em;</code></td>
        <td>
          O valor final atribuído ao elemento (ou herdado, se não houver
          declarado).
        </td>
      </tr>
      <tr>
        <td><strong>Valor computado</strong></td>
        <td><code>15px</code></td>
        <td>
          O navegador converte unidades relativas (<code>em</code>,
          <code>%</code>) em valores absolutos.
        </td>
      </tr>
      <tr>
        <td><strong>Valor usado</strong></td>
        <td><code>15px</code></td>
        <td>
          Resultado dos últimos cálculos antes da renderização, levando em conta
          o contexto (ex.: largura do pai).
        </td>
      </tr>
      <tr>
        <td><strong>Valor real</strong></td>
        <td><code>14.67px → 15px</code></td>
        <td>
          O valor aplicado, considerando restrições do browser (ex.:
          arredondamento de pixels).
        </td>
      </tr>
    </tbody>
  </table>
</section>

<section>
  <h2>Final: CSSOM + DOM = Render Tree</h2>
  <p>
    <strong>CSS Object Model</strong>: API que permite manipular CSS via
    JavaScript, do mesmo jeito que usamos o DOM. Funciona como uma representação
    em memória das regras CSS aplicadas, permitindo leitura e modificação
    dinâmica de estilos.
  </p>
  <ul>
    <li>Cada folha de estilo é um objeto <code>CSSStyleSheet</code>.</li>
    <li>Cada regra é um objeto <code>CSSRule</code>.</li>
    <li>
      Cada conjunto de propriedades é um <code>CSSStyleDeclaration</code>.
    </li>
  </ul>
</section>

<section>
  <h2>Renderização</h2>

    <h3>Visual Formatting Model</h3>
    <ul>
      <li>Algoritmo que calcula caixas e determina o layout dessas caixas para cada elemento na árvore de renderização, a fim de determinar o layout final da página.</li>
      <li>Considera fatores como:
        <ul>
          <li>Dimensões das caixas (calculadas pelo box model).</li>
          <li>Tipo de caixa: bloco, inline ou inline-block.</li>
          <li>Esquema de posicionamento: fluxo normal, flutuantes, absoluto ou relativo.</li>
          <li>Contexto de empilhamento: irmãos, pais, z-index.</li>
          <li>Informações externas: viewport, dimensões de imagens, outros fatores.</li>
        </ul>
      </li>
      <li>Reunindo todos esses fatores, o navegador descobre como o site será exibido para o usuário.</li>
    </ul>
  
    <h3>Box Model</h3>
    <ul>
      <li>Um dos fatores que define como os elementos são exibidos em uma página da web e como eles são dimensionados.</li>
      <li>Cada caixa pode ter:
        <ul>
          <li><strong>Conteúdo</strong>: onde ficam textos, imagens ou outros elementos.</li>
          <li><strong>Padding</strong>: espaço interno entre o conteúdo e a borda.</li>
          <li><strong>Borda</strong>: contorna o conteúdo e o padding.</li>
          <li><strong>Margem</strong>: espaço externo entre caixas.</li>
        </ul>
      </li>
      <li>O fundo (cor ou imagem) cobre o conteúdo, o padding e a borda, mas nunca a margem.</li>
      <li>Se não especificamos <code>width</code> ou <code>height</code>, o navegador usa o conteúdo da caixa para calcular seu tamanho.</li>
    </ul>
  
</section>

<section>
  <h2>Controle da cascata e especificidade</h2>
  <img src="assets/specificity.png" alt="specificity" />
 
  <div class="example-1">
    <h3>Especificidade</h3>

    <p style="color: gray">inline (gray)</p>
    <p id="green">id (green)</p>
    <p class="blue">class (blue)</p>
    <p title="pink">attribute (pink)</p>
    <p>element (red)</p>
    <p>pseudo-class (purple)</p>
  </div>

  <div class="example-2">
    <h3>Importância</h3>

    <p style="color: gray !important">inline (gray)</p>
    <p id="green">id (green)</p>
    <p class="blue">class (blue)</p>
    <p title="pink">attribute (pink)</p>
    <p>element (red)</p>
    <p>pseudo-class (purple)</p>

    <p>FONT-SIZE: 16px</p>
  </div>

  
  <div class="example-3">
    <h3>Modificadores</h3>

    <h4>Nenhum valor</h4>

    <ul>
      <li>universal (<code>*</code>)</li>
      <li>combinadores (<code>&gt; + ~</code>)</li> → tornam o seletor mais específico em relação à seleção, mas não acrescentam nenhum valor ao peso da especificidade
      <ul class="no-value">
        <li>Red</li>
        <li>Green</li>
        <li>Blue</li>
      </ul>
    </ul>

    <ul>
      <li><code>:where()</code> sempre tem especificidade zero.</li>
      <ul class="where">
        <li><p id="red">Red</p></li>
        <li><p class="green">Green</p></li>
      </ul>
    </ul>


    <p><code>:is()</code> adota a <em>maior</em> especificidade entre os seus seletores.</p>
    <p><code>:not()</code> e <code>:has()</code> herdam a especificidade do seletor interno.</p>

  </div>

  <div class="example-4">
    <h3>Layers</h3>
  </div>

  <div class="example-5">
    <h3>User Agent X Reset Style Sheets</h3>

    <p>*  margin: 0; padding: 0;</p>
  </div>
</section>

<!-- 
 Próximos tópicos:
 - CSS Custom Properties (Variables)
 - CSS Performance
-->
